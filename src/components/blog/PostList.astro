---
import formatDate from "@utils/formatDate";
import TagList from "@components/blog/TagList.astro";

const { data } = Astro.props;
const { title, description, publishDate, tags, slug } = data;

const dateOptions: object = {
	year: "numeric",
	month: "long",
	day: "numeric",
};

const formattedPublishDate = formatDate(publishDate, dateOptions);
---

<article class="post-preview no-margin-last-element">
	<header>
		<h3>
			<a href={`/blog/${slug}/`}>{title}</a>
		</h3>
		<p>{formattedPublishDate}</p>
	</header>
	<p>{description}</p>
	{tags && <TagList {tags} />}
</article>

<style lang="scss">
	@import "../../styles/base/_variables.scss";

	h3 {
		margin-bottom: 1rem;

		@media screen and (min-width: $breakpoint-sm) {
			font-size: 2rem;
		}
	}
</style>

<style>
	a,
	a:hover {
		color: var(--color-blue);
	}

	a {
		text-decoration: none;
	}

	a:hover {
		text-decoration: underline;
	}

	h2,
	h3 {
		font-weight: var(--fw-bold);
	}

	.post-preview:not(:last-child) {
		margin-bottom: 3rem;
	}
</style>
